# Balance Tools

Экономика и таблицы дропа вынесены в ScriptableObject-активы, которые можно редактировать без правок кода.

## Экономика

* **Файл:** `Resources/Balance/EconomyBalance.asset`
* **Редактор:** `Begin → Balance → Economy Balance`
* **Поля**
  * `Default Vendor Stock` – сколько предметов предлагает торговец при обновлении без аргументов.
  * `Rarity Pricing` – множители для расчёта цены покупки и продажи по редкости предмета.
  * `Global Gold Multiplier` – глобальный множитель награды золота с врагов.
  * `Global XP Multiplier` – глобальный множитель опыта с врагов.
  * `Vendor Sell Fallback Multiplier` – множитель цены продажи, если для редкости не задан собственный.

Перемещение или переименование актива допускается, главное – чтобы он лежал в `Resources/Balance` (иначе его не найдёт рантайм).

## Таблицы дропа

* **Файлы:** `Resources/Balance/CommonDropTable.asset`, `Resources/Balance/BossDropTable.asset`
* **Редактор:** `Begin → Balance → Drop Table Editor`
* **Структура строки CSV:** `itemId,weight,min,max,dropChance`
  * `itemId` – идентификатор предмета из базы (`ItemDefinition.id`).
  * `weight` – относительный вес при выборе (по умолчанию `1`).
  * `min` / `max` – диапазон количества при выдаче.
  * `dropChance` – дополнительная вероятность выпадения записи (0..1).

Через окно можно импортировать CSV, синхронизировать `itemId` с привязанными `ItemDefinition` и редактировать список вручную. После сохранения изменения сразу попадают в репозиторий и влияют на лут.

## Подключение к врагам

У каждого `EnemyDefinition` теперь есть ссылка на `DropTable`. Если таблица не задана, используется старое поведение с равновероятным выбором предмета из всей базы. В примере:

* Обычные враги (`runner`, `shooter`, `tank`) используют `CommonDropTable`.
* Босс использует `BossDropTable` с повышенным лутом.

Это позволяет настраивать награды врагов простым редактированием данных.
